

<!DOCTYPE html>
<html>
<head>
<meta charset = "utf-8">
<title>
p507 차트생성.
</title>
<style>

</style>
</head>
<body >

<h3>학점 별로 학생 수 입력하며 파이 차트로 비율그리기</h3>
<hr>
<div> 
A <input id="a1" type="number" value="0">  명 B <input id="b1" type="number" value="0">  명 C <input id="c1" type="number" value="0">  명<br>
D <input id="d1"type="number" value="0">  명 F <input id="f1" type="number" value="0">  명<br>
<button id="bt1">차트 그리기</button> 
</div>

<canvas id="canvas1" style="background-color: aliceblue" width="650" height="600">
</canvas>

<script>
//console.log(a1.value,b1.value, c1.value,d1.value,f1.value);

let b11= document.getElementById("bt1");
b11.addEventListener('click',result);

let colors =["blue", "green", "yellow","magenta","red"];
let grades =["A","B","C","D","F"];

//let ctx, context;

let av=a1.value;
let bv=document.getElementById("b1").value;
let cv=document.getElementById("c1").value;
let dv=document.getElementById("d1").value;
let fv=document.getElementById("f1").value;


let max= parseInt(a1.value)+parseInt(b1.value)+parseInt(c1.value)+parseInt(d1.value)+parseInt(f1.value);

function result() {

let max= null;
 max= parseInt(a1.value)+parseInt(b1.value)+parseInt(c1.value)+parseInt(d1.value)+parseInt(f1.value);
console.log(a1.value, b1.value, c1.value, d1.value, f1.value);

console.log(av,bv,cv,dv,fv,max);

	
function calcu1(){
	}


	let ctx = document.getElementById("canvas1");
	let context= ctx.getContext("2d");
	context.clearRect(0,0, ctx.width, ctx.height);

	context.beginPath();
	context.moveTo(250,250);
	context.fillStyle=colors[0];
	context.arc(250,250, 200, 0, (a1.value/max)*Math.PI*2  ,false); //폴문으로 계속 생성해야됨 
	context.closePath();
	context.fill();

	context.beginPath();
	context.moveTo(250,250);
	context.fillStyle=colors[1];
	context.arc(250,250, 200, (a1.value/max)*Math.PI*2,  (a1.value/max)*Math.PI*2+(b1.value/max)*Math.PI*2  ,false); //폴문으로 계속 생성해야됨 
	context.closePath();
	context.fill();

	context.beginPath();
	context.moveTo(250,250);
	context.fillStyle=colors[2];
	context.arc(250,250, 200,  (a1.value/max)*Math.PI*2+(b1.value/max)*Math.PI*2 ,  (a1.value/max)*Math.PI*2+(b1.value/max)*Math.PI*2+(c1.value/max)*Math.PI*2  ,false); 
	context.closePath();
	context.fill();


	context.beginPath();
	context.moveTo(250,250);
	context.fillStyle=colors[3];
	context.arc(250,250, 200,  (a1.value/max)*Math.PI*2+(b1.value/max)*Math.PI*2+(c1.value/max)*Math.PI*2,  (a1.value/max)*Math.PI*2+(b1.value/max)*Math.PI*2+(c1.value/max)*Math.PI*2+(d1.value/max)*Math.PI*2  ,false); 
	context.closePath();	
	context.fill();


	context.beginPath();
	context.moveTo(250,250);
	context.fillStyle=colors[4];
	context.arc(250,250, 200,  (a1.value/max)*Math.PI*2+(b1.value/max)*Math.PI*2+(c1.value/max)*Math.PI*2+(d1.value/max)*Math.PI*2, (a1.value/max)*Math.PI*2+(b1.value/max)*Math.PI*2+(c1.value/max)*Math.PI*2+(d1.value/max)*Math.PI*2+ (f1.value/max)*Math.PI*2  ,false);  
	context.closePath();
	context.fill();
	



	context.font ="italic 20px nomal";
	context.fillStyle=colors[0];
	context.lineWidth=1;
	context.textAlign= "left";
	context.fillText("학생 a: "+a1.value , 10,40);
	

	context.fillStyle=colors[1];
	context.lineWidth=1;
	context.textAlign= "left";
	context.fillText("학생 b: "+b1.value , 10,60);

	context.fillStyle=colors[2];
	context.lineWidth=1;
	context.textAlign= "left";
	context.fillText("학생 c: "+c1.value , 10,80);

	context.fillStyle=colors[3];
	context.lineWidth=1;
	context.textAlign= "left";
	context.fillText("학생 d: "+d1.value , 10,100);

	context.fillStyle=colors[4];
	context.lineWidth=1;
	context.textAlign= "left";
	context.fillText("학생 f: "+f1.value , 10,120);	

       // currentAngle += portionAngle;	
	

   





}




</script>
<div id="piechart"></div>
</body>
</html>